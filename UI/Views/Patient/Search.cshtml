@model PatientAreaModel;

<div class="container">
    <main>

        <partial name="_HeaderPatient" />

        <form method="post" asp-action="SearchDoctors">

            <input hidden asp-for="SelectSpecialization" />

            <label for="specializationSelect">Specialization:</label>
            <select asp-for="SelectSpecialization" name="specializationSelect" id="specializationSelect">
                <option value="">Select</option>
                @foreach (string specialization in Model.Specializations)
                {
                    <option value="@Model.SelectSpecialization">@specialization</option>
                }
            </select>

            <!-- Add other hidden input fields with their respective values -->
            <input hidden asp-for="Doctors" value="@Model.Doctors" />
            <input hidden asp-for="Specializations" value="@Model.Specializations" />
            <input hidden asp-for="Patient" value="@Model.Patient" />
            <input hidden asp-for="CityCode" value="@Model.CityCode" />

            <button type="submit" class="mt-3 btn btn-primary">Search</button>

        </form>


        @if (Model.Doctors.Count == 0)
        {
            <h2>Search Results</h2>

            <p>No matching doctors found</p>
        }
        else
        {
            <div class="table-responsive">
                <table class="table table-striped table-sm">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Doctor</th>
                            <th scope="col">Name</th>
                            <th scope="col">Phone</th>
                            <th scope="col">Fees</th>
                            <th scope="col">Clinic</th>
                            <th scope="col">Consultation</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var doctor in Model.Doctors)
                        {
                            <tr>
                                <td>
                                </td>
                                <td>
                                    @* <img class="rounded img-fluid d-block m-3"
                            src="@doctor.ProfilePicture"
                            width="60" /> *@
                                </td>
                                <td>
                                    @doctor.Name
                                    <br />
                                    (<small class="text-muted">@doctor.SpecializationDescription</small>)
                                </td>
                                <td>
                                    @doctor.Phone

                                </td>
                                <td>
                                    Rs. @doctor.Price
                                    <br />
                                    (<small class="text-muted">@doctor.PriceDescription</small>)
                                </td>
                                <td>
                                    @doctor.Address

                                </td>

                                <td>
                                    <a asp-page-handler="MakePay" asp-route-doctorID="@doctor.UserId" class="mt-3 btn btn-primary">Pay Fees and Consult</a>
                                </td>
                            </tr>
                        }

                    </tbody>
                </table>
            </div>
        }

    </main>

    <partial name="_Footer" />

</div>




